packages/api/src/research_kb_api/routes/concepts.py:108: error: Argument "relationship_type" to "RelationshipDetail" has incompatible type "RelationshipType | None"; expected "RelationshipType"  [arg-type]
packages/api/src/research_kb_api/service.py:385: error: Argument "source_type" to "list_all" of "SourceStore" has incompatible type "str | None"; expected "SourceType | None"  [arg-type]
packages/api/src/research_kb_api/service.py:585: error: "dict[Any, Any]" has no attribute "id"  [attr-defined]
packages/api/src/research_kb_api/service.py:585: error: "dict[Any, Any]" has no attribute "title"  [attr-defined]
packages/api/src/research_kb_api/service.py:585: error: "dict[Any, Any]" has no attribute "year"  [attr-defined]
packages/api/src/research_kb_api/service.py:586: error: "dict[Any, Any]" has no attribute "id"  [attr-defined]
packages/api/src/research_kb_api/service.py:586: error: "dict[Any, Any]" has no attribute "title"  [attr-defined]
packages/api/src/research_kb_api/service.py:586: error: "dict[Any, Any]" has no attribute "year"  [attr-defined]
packages/common/src/research_kb_common/logging_config.py:63: error: Argument "processors" to "configure" has incompatible type "list[object]"; expected "Iterable[Callable[[Any, str, MutableMapping[str, Any]], Mapping[str, Any] | str | bytes | bytearray | tuple[Any, ...]]] | None"  [arg-type]
packages/common/src/research_kb_common/logging_config.py:84: error: Returning Any from function declared to return "BoundLogger"  [no-any-return]
packages/daemon/src/research_kb_daemon/handler.py:38: error: Function is missing a return type annotation  [no-untyped-def]
packages/daemon/src/research_kb_daemon/handler.py:423: error: Incompatible types in assignment (expression has type "dict[str, str | float | None]", target has type "str | None")  [assignment]
packages/daemon/src/research_kb_daemon/pool.py:124: error: Returning Any from function declared to return "dict[Any, Any]"  [no-any-return]
packages/daemon/src/research_kb_daemon/pool.py:217: error: Returning Any from function declared to return "list[float]"  [no-any-return]
packages/daemon/src/research_kb_daemon/pool.py:318: error: Returning Any from function declared to return "dict[Any, Any]"  [no-any-return]
packages/daemon/src/research_kb_daemon/pool.py:45: error: Function is missing a return type annotation  [no-untyped-def]
packages/daemon/src/research_kb_daemon/server.py:177: error: Item "None" of "Semaphore | None" has no attribute "acquire"  [union-attr]
packages/daemon/src/research_kb_daemon/server.py:220: error: Item "None" of "Semaphore | None" has no attribute "release"  [union-attr]
packages/daemon/src/research_kb_daemon/server.py:281: error: Function is missing a return type annotation  [no-untyped-def]
packages/daemon/src/research_kb_daemon/server.py:281: note: Use "-> None" if function does not return a value
packages/daemon/src/research_kb_daemon/server.py:75: error: Incompatible types in assignment (expression has type "dict[Any, Any]", target has type "int | str | None")  [assignment]
packages/dashboard/src/research_kb_dashboard/api_client.py:51: error: Argument "base_url" to "AsyncClient" has incompatible type "str | None"; expected "URL | str"  [arg-type]
packages/extraction/src/research_kb_extraction/anthropic_client.py:205: error: No overload variant of "create" of "Messages" matches argument types "str", "int", "float", "str", "list[dict[str, str]]", "list[dict[str, Collection[str]]]", "dict[str, str]"  [call-overload]
packages/extraction/src/research_kb_extraction/anthropic_client.py:205: note:     def create(self, *, max_tokens: int, messages: Iterable[MessageParam], model: Literal['claude-opus-4-6', 'claude-sonnet-4-6', 'claude-opus-4-5-20251101', 'claude-opus-4-5', 'claude-3-7-sonnet-latest', 'claude-3-7-sonnet-20250219', 'claude-3-5-haiku-latest', 'claude-3-5-haiku-20241022', 'claude-haiku-4-5', 'claude-haiku-4-5-20251001', 'claude-sonnet-4-20250514', 'claude-sonnet-4-0', 'claude-4-sonnet-20250514', 'claude-sonnet-4-5', 'claude-sonnet-4-5-20250929', 'claude-opus-4-0', 'claude-opus-4-20250514', 'claude-4-opus-20250514', 'claude-opus-4-1-20250805', 'claude-3-opus-latest', 'claude-3-opus-20240229', 'claude-3-haiku-20240307'] | str, cache_control: CacheControlEphemeralParam | Omit | None = ..., container: str | Omit | None = ..., inference_geo: str | Omit | None = ..., metadata: MetadataParam | Omit = ..., output_config: OutputConfigParam | Omit = ..., service_tier: Literal['auto', 'standard_only'] | Omit = ..., stop_sequences: SequenceNotStr[str] | Omit = ..., stream: Literal[False] | Omit = ..., system: str | Iterable[TextBlockParam] | Omit = ..., temperature: float | Omit = ..., thinking: ThinkingConfigEnabledParam | ThinkingConfigDisabledParam | ThinkingConfigAdaptiveParam | Omit = ..., tool_choice: ToolChoiceAutoParam | ToolChoiceAnyParam | ToolChoiceToolParam | ToolChoiceNoneParam | Omit = ..., tools: Iterable[ToolParam | ToolBash20250124Param | CodeExecutionTool20250522Param | CodeExecutionTool20250825Param | CodeExecutionTool20260120Param | <10 more items>] | Omit = ..., top_k: int | Omit = ..., top_p: float | Omit = ..., extra_headers: Mapping[str, str | Omit] | None = ..., extra_query: Mapping[str, object] | None = ..., extra_body: object | None = ..., timeout: float | Timeout | NotGiven | None = ...) -> Message
packages/extraction/src/research_kb_extraction/anthropic_client.py:205: note:     def create(self, *, max_tokens: int, messages: Iterable[MessageParam], model: Literal['claude-opus-4-6', 'claude-sonnet-4-6', 'claude-opus-4-5-20251101', 'claude-opus-4-5', 'claude-3-7-sonnet-latest', 'claude-3-7-sonnet-20250219', 'claude-3-5-haiku-latest', 'claude-3-5-haiku-20241022', 'claude-haiku-4-5', 'claude-haiku-4-5-20251001', 'claude-sonnet-4-20250514', 'claude-sonnet-4-0', 'claude-4-sonnet-20250514', 'claude-sonnet-4-5', 'claude-sonnet-4-5-20250929', 'claude-opus-4-0', 'claude-opus-4-20250514', 'claude-4-opus-20250514', 'claude-opus-4-1-20250805', 'claude-3-opus-latest', 'claude-3-opus-20240229', 'claude-3-haiku-20240307'] | str, stream: Literal[True], cache_control: CacheControlEphemeralParam | Omit | None = ..., container: str | Omit | None = ..., inference_geo: str | Omit | None = ..., metadata: MetadataParam | Omit = ..., output_config: OutputConfigParam | Omit = ..., service_tier: Literal['auto', 'standard_only'] | Omit = ..., stop_sequences: SequenceNotStr[str] | Omit = ..., system: str | Iterable[TextBlockParam] | Omit = ..., temperature: float | Omit = ..., thinking: ThinkingConfigEnabledParam | ThinkingConfigDisabledParam | ThinkingConfigAdaptiveParam | Omit = ..., tool_choice: ToolChoiceAutoParam | ToolChoiceAnyParam | ToolChoiceToolParam | ToolChoiceNoneParam | Omit = ..., tools: Iterable[ToolParam | ToolBash20250124Param | CodeExecutionTool20250522Param | CodeExecutionTool20250825Param | CodeExecutionTool20260120Param | <10 more items>] | Omit = ..., top_k: int | Omit = ..., top_p: float | Omit = ..., extra_headers: Mapping[str, str | Omit] | None = ..., extra_query: Mapping[str, object] | None = ..., extra_body: object | None = ..., timeout: float | Timeout | NotGiven | None = ...) -> Stream[RawMessageStartEvent | RawMessageDeltaEvent | RawMessageStopEvent | RawContentBlockStartEvent | RawContentBlockDeltaEvent | RawContentBlockStopEvent]
packages/extraction/src/research_kb_extraction/anthropic_client.py:205: note:     def create(self, *, max_tokens: int, messages: Iterable[MessageParam], model: Literal['claude-opus-4-6', 'claude-sonnet-4-6', 'claude-opus-4-5-20251101', 'claude-opus-4-5', 'claude-3-7-sonnet-latest', 'claude-3-7-sonnet-20250219', 'claude-3-5-haiku-latest', 'claude-3-5-haiku-20241022', 'claude-haiku-4-5', 'claude-haiku-4-5-20251001', 'claude-sonnet-4-20250514', 'claude-sonnet-4-0', 'claude-4-sonnet-20250514', 'claude-sonnet-4-5', 'claude-sonnet-4-5-20250929', 'claude-opus-4-0', 'claude-opus-4-20250514', 'claude-4-opus-20250514', 'claude-opus-4-1-20250805', 'claude-3-opus-latest', 'claude-3-opus-20240229', 'claude-3-haiku-20240307'] | str, stream: bool, cache_control: CacheControlEphemeralParam | Omit | None = ..., container: str | Omit | None = ..., inference_geo: str | Omit | None = ..., metadata: MetadataParam | Omit = ..., output_config: OutputConfigParam | Omit = ..., service_tier: Literal['auto', 'standard_only'] | Omit = ..., stop_sequences: SequenceNotStr[str] | Omit = ..., system: str | Iterable[TextBlockParam] | Omit = ..., temperature: float | Omit = ..., thinking: ThinkingConfigEnabledParam | ThinkingConfigDisabledParam | ThinkingConfigAdaptiveParam | Omit = ..., tool_choice: ToolChoiceAutoParam | ToolChoiceAnyParam | ToolChoiceToolParam | ToolChoiceNoneParam | Omit = ..., tools: Iterable[ToolParam | ToolBash20250124Param | CodeExecutionTool20250522Param | CodeExecutionTool20250825Param | CodeExecutionTool20260120Param | <10 more items>] | Omit = ..., top_k: int | Omit = ..., top_p: float | Omit = ..., extra_headers: Mapping[str, str | Omit] | None = ..., extra_query: Mapping[str, object] | None = ..., extra_body: object | None = ..., timeout: float | Timeout | NotGiven | None = ...) -> Message | Stream[RawMessageStartEvent | RawMessageDeltaEvent | RawMessageStopEvent | RawContentBlockStartEvent | RawContentBlockDeltaEvent | RawContentBlockStopEvent]
packages/extraction/src/research_kb_extraction/anthropic_client.py:205: note: Possible overload variants:
packages/extraction/src/research_kb_extraction/batch_client.py:187: error: Argument "requests" to "create" of "Batches" has incompatible type "list[dict[Any, Any]]"; expected "Iterable[Request]"  [arg-type]
packages/extraction/src/research_kb_extraction/deduplicator.py:288: error: "object" has no attribute "embed"  [attr-defined]
packages/extraction/src/research_kb_extraction/deduplicator.py:289: error: "object" has no attribute "embed"  [attr-defined]
packages/extraction/src/research_kb_extraction/llama_cpp_client.py:236: error: "None" has no attribute "create_chat_completion"  [attr-defined]
packages/extraction/src/research_kb_extraction/llama_cpp_client.py:246: error: "None" has no attribute "create_chat_completion"  [attr-defined]
packages/mcp-server/src/research_kb_mcp/formatters.py:306: error: "ConceptRelationship" has no attribute "target_id"  [attr-defined]
packages/mcp-server/src/research_kb_mcp/tools/graph.py:184: error: "type[ConceptStore]" has no attribute "search_by_name"  [attr-defined]
packages/mcp-server/src/research_kb_mcp/tools/graph.py:217: error: Unexpected keyword argument "domain_id" for "find_similar" of "ConceptStore"  [call-arg]
packages/pdf-tools/src/research_kb_pdf/bibtex_generator.py:129: error: Argument 1 to "escape_bibtex" has incompatible type "str | None"; expected "str"  [arg-type]
packages/pdf-tools/src/research_kb_pdf/chunker.py:64: error: Incompatible return value type (got "TokenizersBackend | SentencePieceBackend", expected "AutoTokenizer")  [return-value]
packages/pdf-tools/src/research_kb_pdf/chunker.py:77: error: Incompatible types in assignment (expression has type "None", variable has type "dict[Any, Any]")  [assignment]
packages/pdf-tools/src/research_kb_pdf/chunker.py:99: error: "AutoTokenizer" has no attribute "encode"  [attr-defined]
packages/pdf-tools/src/research_kb_pdf/dispatcher.py:195: error: Function "ChunkStore" could always be true in boolean context  [truthy-function]
packages/pdf-tools/src/research_kb_pdf/dlq.py:44: error: Incompatible types in assignment (expression has type "None", variable has type "dict[Any, Any]")  [assignment]
packages/pdf-tools/src/research_kb_pdf/grobid_client.py:11: error: Library stubs not installed for "requests"  [import-untyped]
packages/pdf-tools/src/research_kb_pdf/grobid_client.py:11: note: (or run "mypy --install-types" to install all missing stub packages)
packages/pdf-tools/src/research_kb_pdf/grobid_client.py:11: note: Hint: "python3 -m pip install types-requests"
packages/pdf-tools/src/research_kb_pdf/grobid_client.py:11: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports
packages/pdf-tools/src/research_kb_pdf/grobid_client.py:438: error: Missing named argument "bibtex" for "Citation"  [call-arg]
packages/pdf-tools/src/research_kb_pdf/grobid_client.py:438: error: Missing named argument "confidence_score" for "Citation"  [call-arg]
packages/pdf-tools/src/research_kb_pdf/grobid_client.py:438: error: Missing named argument "extraction_method" for "Citation"  [call-arg]
packages/storage/src/research_kb_storage/citation_graph.py:228: error: Unsupported operand types for + ("object" and "int")  [operator]
packages/storage/src/research_kb_storage/citation_graph.py:232: error: Missing named argument "bibtex" for "Citation"  [call-arg]
packages/storage/src/research_kb_storage/citation_graph.py:232: error: Missing named argument "confidence_score" for "Citation"  [call-arg]
packages/storage/src/research_kb_storage/citation_graph.py:232: error: Missing named argument "context" for "Citation"  [call-arg]
packages/storage/src/research_kb_storage/citation_graph.py:232: error: Missing named argument "extraction_method" for "Citation"  [call-arg]
packages/storage/src/research_kb_storage/citation_graph.py:273: error: Unsupported operand types for + ("object" and "int")  [operator]
packages/storage/src/research_kb_storage/citation_graph.py:283: error: "object" has no attribute "get"  [attr-defined]
packages/storage/src/research_kb_storage/citation_graph.py:283: error: Unsupported target for indexed assignment ("object")  [index]
packages/storage/src/research_kb_storage/citation_graph.py:285: error: Unsupported operand types for + ("object" and "int")  [operator]
packages/storage/src/research_kb_storage/citation_graph.py:288: error: Unsupported operand types for + ("object" and "int")  [operator]
packages/storage/src/research_kb_storage/citation_graph.py:295: error: Unsupported operand types for % ("object" and "int")  [operator]
packages/storage/src/research_kb_storage/concept_store.py:237: error: Incompatible return value type (got "Concept | None", expected "Concept")  [return-value]
packages/storage/src/research_kb_storage/concept_store.py:559: note: "find_similar" of "ConceptStore" defined here
packages/storage/src/research_kb_storage/graph_queries.py:305: error: Argument 1 to "append" of "list" has incompatible type "tuple[Concept, ConceptRelationship | None]"; expected "tuple[Concept, None]"  [arg-type]
packages/storage/src/research_kb_storage/graph_queries.py:307: error: Incompatible return value type (got "list[tuple[Concept, None]]", expected "list[tuple[Concept, ConceptRelationship | None]] | None")  [return-value]
packages/storage/src/research_kb_storage/graph_queries.py:631: error: Argument 1 to "append" of "list" has incompatible type "str"; expected "list[Any]"  [arg-type]
packages/storage/src/research_kb_storage/graph_queries.py:637: error: Dict entry 0 has incompatible type "str": "Concept"; expected "str": "list[Any]"  [dict-item]
packages/storage/src/research_kb_storage/graph_queries.py:750: error: Argument 1 to "append" of "list" has incompatible type "str"; expected "list[Any]"  [arg-type]
packages/storage/src/research_kb_storage/graph_queries.py:756: error: Dict entry 0 has incompatible type "str": "Concept"; expected "str": "list[Any]"  [dict-item]
packages/storage/src/research_kb_storage/method_store.py:236: error: Incompatible return value type (got "Method | None", expected "Method")  [return-value]
packages/storage/src/research_kb_storage/search.py:1083: error: Missing named argument "citation_score" for "SearchResult"  [call-arg]
packages/storage/src/research_kb_storage/search.py:1083: error: Missing named argument "graph_score" for "SearchResult"  [call-arg]
packages/storage/src/research_kb_storage/search.py:1083: error: Missing named argument "rerank_score" for "SearchResult"  [call-arg]
packages/storage/src/research_kb_storage/search.py:193: error: Argument "key" to "sort" of "list" has incompatible type "Callable[[tuple[str, float | None]], float | None]"; expected "Callable[[tuple[str, float | None]], SupportsDunderLT[Any] | SupportsDunderGT[Any]]"  [arg-type]
packages/storage/src/research_kb_storage/search.py:193: error: Incompatible return value type (got "float | None", expected "SupportsDunderLT[Any] | SupportsDunderGT[Any]")  [return-value]
packages/storage/src/research_kb_storage/search.py:630: error: Argument "query" to "rerank_search_results" of "RerankClient" has incompatible type "str | None"; expected "str"  [arg-type]
